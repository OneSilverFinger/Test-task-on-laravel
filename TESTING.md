# План тестирования системы

## 1. Проверка доступа к приложению

Откройте в браузере: **http://localhost:8080**

Должна открыться главная страница с панелью управления.

---

## 2. Тестирование справочников

### 2.1. Магазины
1. Перейдите в **Магазины** (должны быть созданы 2 магазина через сидер)
2. Проверьте, что оба магазина отображаются

### 2.2. Создание поставщика
1. Перейдите в **Поставщики** → **Добавить поставщика**
2. Заполните:
   - Название: `ООО "Поставщик 1"`
   - Телефон: `+7 (999) 111-11-11`
   - Email: `supplier1@test.ru`
3. Нажмите **Создать**
4. Проверьте, что поставщик появился в списке

### 2.3. Создание покупателя
1. Перейдите в **Покупатели** → **Добавить покупателя**
2. Заполните:
   - Имя: `Иван Иванов`
   - Телефон: `+7 (999) 222-22-22`
   - Email: `customer1@test.ru`
3. Нажмите **Создать**
4. Проверьте, что покупатель появился в списке

### 2.4. Создание товаров
Создайте несколько товаров:

**Товар 1:**
- Название: `Товар А`
- Артикул: `T001`
- Единица: `шт`
- Описание: `Тестовый товар`

**Товар 2:**
- Название: `Товар Б`
- Артикул: `T002`
- Единица: `кг`
- Описание: `Второй тестовый товар`

---

## 3. Тестирование закупок

### 3.1. Создание закупки
1. Перейдите в **Закупки** → **Создать закупку**
2. Заполните:
   - Поставщик: выберите созданного поставщика
   - Магазин: выберите Магазин №1
   - Дата: сегодняшняя дата
3. Добавьте товары:
   - **Товар А**: количество `10`, цена `100.00`
   - **Товар Б**: количество `5.5`, цена `50.00`
4. Нажмите **Создать закупку**
5. Проверьте:
   - Закупка создана с номером (например, PO-20241214-0001)
   - Общая сумма = 1000.00 + 275.00 = 1275.00 ₽
   - Задолженность = 1275.00 ₽ (вся сумма)

### 3.2. Проверка остатков
1. Перейдите в **Отчёты** → **Остатки**
2. Выберите **Магазин №1**
3. Проверьте:
   - Товар А: остаток **10 шт**
   - Товар Б: остаток **5.5 кг**

### 3.3. Добавление оплаты закупки
1. Откройте созданную закупку
2. В разделе **Оплаты** добавьте:
   - Дата оплаты: сегодня
   - Сумма: `500.00`
   - Примечания: `Частичная оплата`
3. Нажмите **Добавить оплату**
4. Проверьте:
   - Оплачено: 500.00 ₽
   - Задолженность: 775.00 ₽
   - В списке оплат появилась запись

### 3.4. Проверка движения денег
1. Перейдите в **Отчёты** → **Движение денег**
2. Проверьте:
   - Приход: 0 ₽
   - Расход: 500.00 ₽ (оплата закупки)
   - Остаток кассы: -500.00 ₽

---

## 4. Тестирование продаж

### 4.1. Создание продажи
1. Перейдите в **Продажи** → **Создать продажу**
2. Заполните:
   - Покупатель: выберите созданного покупателя
   - Магазин: **Магазин №1**
   - Дата: сегодняшняя дата
3. Добавьте товары:
   - **Товар А**: количество `3`, цена `150.00`
   - **Товар Б**: количество `2`, цена `75.00`
4. Нажмите **Создать продажу**
5. Проверьте:
   - Продажа создана с номером
   - Общая сумма = 450.00 + 150.00 = 600.00 ₽
   - Задолженность = 600.00 ₽

### 4.2. Проверка остатков после продажи
1. Перейдите в **Отчёты** → **Остатки** → **Магазин №1**
2. Проверьте:
   - Товар А: остаток **7 шт** (было 10, продали 3)
   - Товар Б: остаток **3.5 кг** (было 5.5, продали 2)

### 4.3. Проверка движения товаров
1. Перейдите в **Отчёты** → **Движение товаров**
2. Выберите **Магазин №1** и **Товар А**
3. Проверьте:
   - Приход: +10 шт (закупка)
   - Расход: -3 шт (продажа)
   - Остаток после каждого движения

### 4.4. Попытка продать больше, чем есть
1. Создайте новую продажу
2. Попробуйте продать **Товар А** в количестве **10 шт**
3. Должна появиться ошибка: "Недостаточно товара на складе"

### 4.5. Добавление оплаты продажи
1. Откройте созданную продажу
2. Добавьте оплату:
   - Дата: сегодня
   - Сумма: `600.00` (полная оплата)
3. Проверьте:
   - Оплачено: 600.00 ₽
   - Задолженность: 0.00 ₽

### 4.6. Проверка кассы
1. Перейдите в **Отчёты** → **Движение денег**
2. Проверьте:
   - Приход: 600.00 ₽ (оплата продажи)
   - Расход: 500.00 ₽ (оплата закупки)
   - Остаток кассы: **100.00 ₽**

---

## 5. Тестирование отчётов

### 5.1. Отчёт по задолженностям
1. Перейдите в **Отчёты** → **Задолженности**
2. Проверьте:
   - Кредиторская задолженность: 775.00 ₽ (остаток по закупке)
   - Дебиторская задолженность: 0.00 ₽ (продажа полностью оплачена)

### 5.2. Частичная оплата закупки
1. Вернитесь к закупке
2. Добавьте ещё одну оплату: `300.00`
3. Проверьте отчёт по задолженностям:
   - Кредиторская задолженность: 475.00 ₽

### 5.3. Частичная оплата продажи
1. Создайте новую продажу на 1000 ₽
2. Добавьте частичную оплату: `300.00`
3. Проверьте отчёт:
   - Дебиторская задолженность: 700.00 ₽

---

## 6. Тестирование работы с двумя магазинами

### 6.1. Закупка для второго магазина
1. Создайте закупку для **Магазин №2**
2. Добавьте **Товар А** в количестве `20`
3. Проверьте остатки:
   - Магазин №1: **7 шт** (не изменился)
   - Магазин №2: **20 шт** (новый остаток)

### 6.2. Продажа из второго магазина
1. Создайте продажу из **Магазин №2**
2. Продайте **Товар А** в количестве `5`
3. Проверьте:
   - Магазин №1: **7 шт** (не изменился)
   - Магазин №2: **15 шт** (20 - 5)

---

## 7. Проверка главной страницы

1. Вернитесь на главную страницу
2. Проверьте карточки:
   - Остаток кассы
   - Дебиторская задолженность
   - Кредиторская задолженность
   - Закупки за месяц
   - Продажи за месяц

---

## 8. Крайние случаи

### 8.1. Продажа со всех остатков
1. Продайте весь остаток товара (например, все 7 шт Товара А из Магазина №1)
2. Проверьте, что остаток стал 0
3. Попробуйте продать ещё - должна быть ошибка

### 8.2. Переплата
1. Попробуйте оплатить закупку больше, чем задолженность
2. Система должна ограничить максимальную сумму оплаты (через max в форме)

---

## Готово к демонстрации!

После выполнения этих тестов система полностью протестирована и готова к демонстрации.

**Основные проверенные функции:**
✅ Справочники (магазины, поставщики, покупатели, товары)
✅ Закупки с автоматическим обновлением остатков
✅ Продажи с проверкой остатков
✅ Частичные оплаты
✅ Учёт задолженностей
✅ Движение товаров и денег
✅ Работа с двумя магазинами независимо
✅ Все отчёты

